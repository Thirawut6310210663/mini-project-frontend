{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data: () => ({\n    valid: true,\n    username: \"\",\n    nameRules: [v => !!v || \"กรุณากรอกชื่อผู้ใช้งาน\", v => v && v.length <= 20 || \"กรุณากรอกชื่อผู้ใช้งานห้ามเกิน 20 ตัวอักษร\"],\n    password: \"\",\n    passwordRules: [v => !!v || \"กรุณากรอกรหัสผ่าน\"]\n  }),\n  methods: {\n    async goToHomeAdmin() {\n      if (this.$refs.loginForm.validate(true)) {\n        const Data = {\n          adminUsername: this.username,\n          adminPassword: this.password\n        };\n        try {\n          const response = await this.axios.post(\"http://localhost:9000/admin/login\", Data);\n          if (response.status === 200) {\n            this.$router.push(\"/HomeAdmin\");\n            // window.product.reload();\n          } else if (response.status === 401) {\n            console.error(\"Failed login information.\");\n          } else {\n            console.error(\"Internal server error.\");\n          }\n        } catch (error) {\n          alert(\"Incorrect password. Please try again.\");\n          console.error(error);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","valid","username","nameRules","v","length","password","passwordRules","methods","goToHomeAdmin","$refs","loginForm","validate","Data","adminUsername","adminPassword","response","axios","post","status","$router","push","console","error","alert"],"sources":["src/components/Login.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container>\n        <v-row justify=\"center\">\n          <v-col cols=\"4\" class=\"text-center\">\n            <v-card class=\"mx-auto mt-15\" style=\"width: 100%; height: 350px;\">\n              <v-card-title style=\"font-size: 25px; color: #33CCCC\" >\n                เข้าสู่ระบบ\n              </v-card-title>\n              <v-card-text class=\"mx-auto mt-5\">\n                <v-form ref=\"loginForm\" v-model=\"valid\" lazy-validation>\n                  <v-text-field\n                v-model=\"username\"\n                :rules=\"usernameRules\"\n                label=\"username\"\n                placeholder=\"username\"\n                required\n                outlined\n              ></v-text-field>\n\n              <v-text-field\n                v-model=\"password\"\n                :rules=\"passwordRules\"\n                label=\"password\"\n                placeholder=\"password\"\n                type=\"password\"\n                required\n                outlined\n              ></v-text-field>\n                  <v-row justify=\"center\" class=\"mx-auto mt-2\">\n                    <v-col cols=\"12\" sm=\"8\" md=\"6\" class=\"text-center\">\n                      <v-btn\n                        :disabled=\"!valid\"\n                        color=\"#33CCCC\"\n                        @click=\"goToHomeAdmin()\"\n                        style=\"text-align: center; color: #FFFFFF;\"\n                      >\n                        เข้าสู่ระบบ\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                </v-form>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    valid: true,\n    username: \"\",\n    nameRules: [\n      (v) => !!v || \"กรุณากรอกชื่อผู้ใช้งาน\",\n      (v) => (v && v.length <= 20) || \"กรุณากรอกชื่อผู้ใช้งานห้ามเกิน 20 ตัวอักษร\",\n    ],\n    password: \"\",\n    passwordRules: [\n      (v) => !!v || \"กรุณากรอกรหัสผ่าน\"\n      ]\n  }),\n  methods: {\n    async goToHomeAdmin() {\n      if (this.$refs.loginForm.validate(true)) {\n        const Data = {\n          adminUsername: this.username,\n          adminPassword: this.password,\n        };\n\n        try {\n          const response = await this.axios.post(\n            \"http://localhost:9000/admin/login\",\n            Data\n          );\n          if (response.status === 200) {\n              this.$router.push(\"/HomeAdmin\");\n            // window.product.reload();\n          } else if (response.status === 401) {\n            console.error(\"Failed login information.\");\n          } else {\n            console.error(\"Internal server error.\");\n          }\n        } catch (error) {\n          alert(\"Incorrect password. Please try again.\");\n          console.error(error);\n        }\n      }\n    }\n  }\n}\n</script>\n"],"mappings":";AAqDA;EACAA,IAAA,EAAAA,CAAA;IACAC,KAAA;IACAC,QAAA;IACAC,SAAA,GACAC,CAAA,MAAAA,CAAA,8BACAA,CAAA,IAAAA,CAAA,IAAAA,CAAA,CAAAC,MAAA,uDACA;IACAC,QAAA;IACAC,aAAA,GACAH,CAAA,MAAAA,CAAA;EAEA;EACAI,OAAA;IACA,MAAAC,cAAA;MACA,SAAAC,KAAA,CAAAC,SAAA,CAAAC,QAAA;QACA,MAAAC,IAAA;UACAC,aAAA,OAAAZ,QAAA;UACAa,aAAA,OAAAT;QACA;QAEA;UACA,MAAAU,QAAA,cAAAC,KAAA,CAAAC,IAAA,CACA,qCACAL,IACA;UACA,IAAAG,QAAA,CAAAG,MAAA;YACA,KAAAC,OAAA,CAAAC,IAAA;YACA;UACA,WAAAL,QAAA,CAAAG,MAAA;YACAG,OAAA,CAAAC,KAAA;UACA;YACAD,OAAA,CAAAC,KAAA;UACA;QACA,SAAAA,KAAA;UACAC,KAAA;UACAF,OAAA,CAAAC,KAAA,CAAAA,KAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}