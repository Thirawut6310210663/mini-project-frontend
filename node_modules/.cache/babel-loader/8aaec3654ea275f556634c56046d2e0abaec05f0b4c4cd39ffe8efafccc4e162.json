{"ast":null,"code":"export default {\n  data: () => ({\n    firstname: '',\n    lastname: '',\n    salary: '',\n    roles: '',\n    dialogCreate: false,\n    dialogDelete: false,\n    headers: [{\n      text: 'ไอดี',\n      align: 'start',\n      sortable: false,\n      value: 'id'\n    }, {\n      text: 'ชื่อ',\n      value: 'firstName'\n    }, {\n      text: 'นามสกุล',\n      value: 'lastName'\n    }, {\n      text: 'เงินเดือน',\n      value: 'salary'\n    }, {\n      text: 'ตำแหน่ง',\n      value: 'role'\n    }, {\n      text: 'จัดการ',\n      value: 'actions',\n      sortable: false\n    }],\n    employeeItem: [],\n    editedIndex: -1,\n    editedItem: {},\n    defaultItem: {\n      name: '',\n      calories: 0,\n      fat: 0,\n      carbs: 0,\n      protein: 0\n    },\n    formTitle: '',\n    idEmployee: '',\n    idforDelete: ''\n  }),\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    }\n  },\n  created() {\n    this.initialize();\n  },\n  methods: {\n    async initialize() {\n      this.employeeItem = [];\n      try {\n        var data = await this.axios.get('http://localhost:8080/employee');\n        console.log('data employee ====>', data);\n        this.employeeItem = data.data;\n      } catch (error) {\n        console.error(error.message);\n      }\n    },\n    openDialog(type, item) {\n      if (type === 'edit') {\n        this.editItem(item);\n      } else {\n        this.dialogCreate = true;\n        this.formTitle = 'เพิ่มข้อมูล';\n        this.editedItem = item;\n      }\n    },\n    editItem(item) {\n      console.log('item select', item);\n      this.editedIndex = this.employeeItem.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogCreate = true;\n      this.formTitle = 'แก้ไขข้อมูล';\n      this.firstname = item.firstName;\n      this.lastname = item.lastName;\n      this.salary = item.salary;\n      this.roles = item.role.name;\n      this.idEmployee = item.id;\n    },\n    deleteItem(item) {\n      this.idforDelete = item.id;\n      this.dialogDelete = true;\n    },\n    async deleteItemConfirm() {\n      try {\n        var response = await this.axios.delete('http://localhost:8080/employee/' + this.idforDelete);\n        this.initialize();\n      } catch (error) {\n        console.error(error.message);\n      }\n      this.closeDelete();\n    },\n    close() {\n      this.dialogCreate = false;\n      this.editedItem = {};\n      this.editedIndex = -1;\n      this.defaultItem = {\n        name: '',\n        calories: 0,\n        fat: 0,\n        carbs: 0,\n        protein: 0\n      };\n    },\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = {};\n        this.editedIndex = -1;\n      });\n    },\n    async save(action) {\n      var data = {\n        firstName: this.firstname,\n        lastName: this.lastname,\n        salary: this.salary,\n        role: {\n          name: this.roles\n        },\n        skills: [{\n          skill: ''\n        }]\n      };\n      if (action === 'เพิ่มข้อมูล') {\n        try {\n          var dataResponse = await this.axios.post('http://localhost:8080/employee', data);\n          console.log('dataResponse ====>', dataResponse);\n          this.close();\n          this.initialize();\n        } catch (error) {\n          console.error(error.message);\n        }\n      } else {\n        try {\n          var dataResponse = await this.axios.put('http://localhost:8080/employee/' + this.idEmployee, data);\n          console.log('dataResponse ====>', dataResponse);\n          this.close();\n          this.initialize();\n        } catch (error) {\n          console.error(error.message);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","firstname","lastname","salary","roles","dialogCreate","dialogDelete","headers","text","align","sortable","value","employeeItem","editedIndex","editedItem","defaultItem","name","calories","fat","carbs","protein","formTitle","idEmployee","idforDelete","watch","dialog","val","close","closeDelete","created","initialize","methods","axios","get","console","log","error","message","openDialog","type","item","editItem","indexOf","Object","assign","firstName","lastName","role","id","deleteItem","deleteItemConfirm","response","delete","$nextTick","save","action","skills","skill","dataResponse","post","put"],"sources":["src/components/Table.vue"],"sourcesContent":["<template>\n  <div>\n    <v-data-table :headers=\"headers\" :items=\"employeeItem\" class=\"elevation-1\">\n      <template v-slot:top>\n        <v-toolbar flat>\n          <v-toolbar-title>จัดการ Employee</v-toolbar-title>\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" dark class=\"mb-2\" @click=\"openDialog('add', defaultItem)\">\n            เพิ่มข้อมูล\n          </v-btn>\n        </v-toolbar>\n      </template>\n      <template v-slot:item.role=\"{ item }\">\n        {{ item.role === null ? '' : item.role.name }}\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-btn small outlined @click=\"openDialog('edit', item)\" color=\"blue\">\n          <v-icon>mdi-pencil</v-icon>\n        </v-btn>\n        <v-btn small outlined @click=\"deleteItem(item)\" color=\"red\" class=\"ml-2\">\n          <v-icon>mdi-delete</v-icon>\n        </v-btn>\n      </template>\n      <template v-slot:no-data>\n        <v-btn color=\"primary\" @click=\"initialize\"> Reset </v-btn>\n      </template>\n    </v-data-table>\n\n    <v-dialog v-model=\"dialogCreate\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">{{ formTitle }}</span>\n        </v-card-title>\n\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                <v-text-field v-model=\"firstname\" label=\"ชื่อ\"></v-text-field>\n              </v-col>\n              <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                <v-text-field v-model=\"lastname\" label=\"นามสกุล\"></v-text-field>\n              </v-col>\n              <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                <v-text-field v-model=\"salary\" label=\"เงินเดือน\"></v-text-field>\n              </v-col>\n              <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                <v-text-field v-model=\"roles\" label=\"ตำแหน่ง\"></v-text-field>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"close\"> ยกเลิก </v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"save(formTitle)\"> บันทึกข้อมูล </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n      <v-card>\n        <v-card-title class=\"text-h5\">คุณต้องการลบข้อมูลในตารางใช่หรือไม่?</v-card-title>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"> ยกเลิก </v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"> ตกลง </v-btn>\n          <v-spacer></v-spacer>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    firstname: '',\n    lastname: '',\n    salary: '',\n    roles: '',\n    dialogCreate: false,\n    dialogDelete: false,\n    headers: [\n      { text: 'ไอดี', align: 'start', sortable: false, value: 'id' },\n      { text: 'ชื่อ', value: 'firstName' },\n      { text: 'นามสกุล', value: 'lastName' },\n      { text: 'เงินเดือน', value: 'salary' },\n      { text: 'ตำแหน่ง', value: 'role' },\n      { text: 'จัดการ', value: 'actions', sortable: false }\n    ],\n    employeeItem: [],\n    editedIndex: -1,\n    editedItem: {},\n    defaultItem: {\n      name: '',\n      calories: 0,\n      fat: 0,\n      carbs: 0,\n      protein: 0\n    },\n    formTitle: '',\n    idEmployee: '',\n    idforDelete: ''\n  }),\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    }\n  },\n\n  created() {\n    this.initialize();\n  },\n\n  methods: {\n    async initialize() {\n      this.employeeItem = [];\n      try {\n        var data = await this.axios.get('http://localhost:8080/employee');\n        console.log('data employee ====>', data);\n        this.employeeItem = data.data;\n      } catch (error) {\n        console.error(error.message);\n      }\n    },\n\n    openDialog(type, item) {\n      if (type === 'edit') {\n        this.editItem(item);\n      } else {\n        this.dialogCreate = true;\n        this.formTitle = 'เพิ่มข้อมูล';\n        this.editedItem = item;\n      }\n    },\n\n    editItem(item) {\n      console.log('item select', item);\n      this.editedIndex = this.employeeItem.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogCreate = true;\n      this.formTitle = 'แก้ไขข้อมูล';\n      this.firstname = item.firstName;\n      this.lastname = item.lastName;\n      this.salary = item.salary;\n      this.roles = item.role.name;\n      this.idEmployee = item.id;\n    },\n\n    deleteItem(item) {\n      this.idforDelete = item.id;\n      this.dialogDelete = true;\n    },\n\n    async deleteItemConfirm() {\n      try {\n        var response = await this.axios.delete('http://localhost:8080/employee/' + this.idforDelete);\n        this.initialize();\n      } catch (error) {\n        console.error(error.message);\n      }\n      this.closeDelete();\n    },\n\n    close() {\n      this.dialogCreate = false;\n      this.editedItem = {};\n      this.editedIndex = -1;\n      this.defaultItem = {\n        name: '',\n        calories: 0,\n        fat: 0,\n        carbs: 0,\n        protein: 0\n      };\n    },\n\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = {};\n        this.editedIndex = -1;\n      });\n    },\n\n    async save(action) {\n      var data = {\n        firstName: this.firstname,\n        lastName: this.lastname,\n        salary: this.salary,\n        role: {\n          name: this.roles\n        },\n        skills: [\n          { skill: '' }\n        ]\n      };\n      if (action === 'เพิ่มข้อมูล') {\n        try {\n          var dataResponse = await this.axios.post('http://localhost:8080/employee', data);\n          console.log('dataResponse ====>', dataResponse);\n          this.close();\n          this.initialize();\n        } catch (error) {\n          console.error(error.message);\n        }\n      } else {\n        try {\n          var dataResponse = await this.axios.put('http://localhost:8080/employee/' + this.idEmployee, data);\n          console.log('dataResponse ====>', dataResponse);\n          this.close();\n          this.initialize();\n        } catch (error) {\n          console.error(error.message);\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style>\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}