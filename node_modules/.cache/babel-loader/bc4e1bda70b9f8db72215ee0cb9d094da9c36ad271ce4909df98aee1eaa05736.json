{"ast":null,"code":"export default {\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [{\n      text: \"Name\",\n      align: \"start\",\n      sortable: false,\n      value: \"productName\"\n    }, {\n      text: \"Picture\",\n      sortable: false,\n      value: \"productPicture\"\n    }, {\n      text: \"Description\",\n      value: \"productDescription\"\n    }, {\n      text: \"Actions\",\n      align: \"start\",\n      sortable: false,\n      value: \"actions\"\n    }],\n    desserts: [],\n    editedIndex: -1,\n    editedItem: {\n      productName: \"\",\n      productDescription: \"\",\n      productPicture: \"\",\n      selectedImage: null\n    },\n    defaultItem: {\n      productName: \"\",\n      productDescription: \"\",\n      productPicture: \"\",\n      selectedImage: null\n    }\n  }),\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    }\n  },\n  created() {\n    this.initialize();\n  },\n  methods: {\n    // ... (เมทอดที่มีอยู่และไม่ได้ถูกแสดงในโค้ดที่คุณแนบมา)\n\n    openDialog(type, item) {\n      if (type === 'edit') {\n        this.editItem(item);\n      } else {\n        this.dialog = true;\n        this.formTitle = 'New Product';\n        this.editedItem = Object.assign({}, this.defaultItem);\n      }\n    },\n    editItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = {\n        productName: item.productName,\n        productDescription: item.productDescription,\n        productPicture: item.productPicture,\n        selectedImage: null\n      };\n      this.dialog = true;\n      this.formTitle = 'Edit Product';\n    },\n    async deleteItem(item) {\n      try {\n        var data = await this.axios.delete(`http://localhost:8080/product/${item.productId}`);\n        if (data.status === 200) {\n          this.initialize();\n          alert(\"Deleted successfully\");\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    // ... (เมทอดที่มีอยู่และไม่ได้ถูกแสดงในโค้ดที่คุณแนบมา)\n\n    handleImageUpload(event) {\n      const selectedFile = event.target.files[0];\n      this.editedItem.selectedImage = selectedFile;\n    }\n  }\n};","map":{"version":3,"names":["data","dialog","dialogDelete","headers","text","align","sortable","value","desserts","editedIndex","editedItem","productName","productDescription","productPicture","selectedImage","defaultItem","watch","val","close","closeDelete","created","initialize","methods","openDialog","type","item","editItem","formTitle","Object","assign","indexOf","deleteItem","axios","delete","productId","status","alert","error","console","handleImageUpload","event","selectedFile","target","files"],"sources":["src/components/EditDelete.vue"],"sourcesContent":["<template>\n  <div>\n    <v-data-table :headers=\"headers\" :items=\"desserts\" class=\"elevation-1\">\n      <template v-slot:top>\n        <v-toolbar flat>\n          <v-toolbar-title>จัดการ Product</v-toolbar-title>\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" dark class=\"mb-2\" @click=\"openDialog('add', defaultItem)\">\n            เพิ่ม\n          </v-btn>\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.productPicture=\"{ item }\">\n        <img\n          :src=\"'data:image/jpeg;base64,' + item.productPicture\"\n          alt=\"Image\"\n          style=\"max-width: 100px\"\n        />\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-btn small outlined @click=\"openDialog('edit', item)\" color=\"blue\">\n          <v-icon>mdi-pencil</v-icon>\n        </v-btn>\n        <v-btn small outlined @click=\"deleteItem(item)\" color=\"red\" class=\"ml-2\">\n          <v-icon>mdi-delete</v-icon>\n        </v-btn>\n      </template>\n\n      <template v-slot:no-data>\n        <v-btn color=\"primary\" @click=\"initialize\"> Reset </v-btn>\n      </template>\n    </v-data-table>\n\n    <v-dialog v-model=\"dialog\" max-width=\"500px\">\n      <!-- ... (เนื้อหาเดิมที่อยู่ใน v-dialog) -->\n    </v-dialog>\n\n    <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n      <!-- ... (เนื้อหาเดิมที่อยู่ใน v-dialogDelete) -->\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: \"Name\",\n        align: \"start\",\n        sortable: false,\n        value: \"productName\",\n      },\n      {\n        text: \"Picture\",\n        sortable: false,\n        value: \"productPicture\",\n      },\n      {\n        text: \"Description\",\n        value: \"productDescription\",\n      },\n      {\n        text: \"Actions\",\n        align: \"start\",\n        sortable: false,\n        value: \"actions\",\n      },\n    ],\n    desserts: [],\n    editedIndex: -1,\n    editedItem: {\n      productName: \"\",\n      productDescription: \"\",\n      productPicture: \"\",\n      selectedImage: null,\n    },\n    defaultItem: {\n      productName: \"\",\n      productDescription: \"\",\n      productPicture: \"\",\n      selectedImage: null,\n    },\n  }),\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n  },\n\n  created() {\n    this.initialize();\n  },\n\n  methods: {\n    // ... (เมทอดที่มีอยู่และไม่ได้ถูกแสดงในโค้ดที่คุณแนบมา)\n    \n    openDialog(type, item) {\n      if (type === 'edit') {\n        this.editItem(item);\n      } else {\n        this.dialog = true;\n        this.formTitle = 'New Product';\n        this.editedItem = Object.assign({}, this.defaultItem);\n      }\n    },\n    \n    editItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = {\n        productName: item.productName,\n        productDescription: item.productDescription,\n        productPicture: item.productPicture,\n        selectedImage: null,\n      };\n      this.dialog = true;\n      this.formTitle = 'Edit Product';\n    },\n    \n    async deleteItem(item) {\n      try {\n        var data = await this.axios.delete(\n          `http://localhost:8080/product/${item.productId}`\n        );\n        if (data.status === 200) {\n          this.initialize();\n          alert(\"Deleted successfully\");\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    \n    // ... (เมทอดที่มีอยู่และไม่ได้ถูกแสดงในโค้ดที่คุณแนบมา)\n\n    handleImageUpload(event) {\n      const selectedFile = event.target.files[0];\n      this.editedItem.selectedImage = selectedFile;\n    },\n  },\n};\n</script>\n"],"mappings":"AA+CA;EACAA,IAAA,EAAAA,CAAA;IACAC,MAAA;IACAC,YAAA;IACAC,OAAA,GACA;MACAC,IAAA;MACAC,KAAA;MACAC,QAAA;MACAC,KAAA;IACA,GACA;MACAH,IAAA;MACAE,QAAA;MACAC,KAAA;IACA,GACA;MACAH,IAAA;MACAG,KAAA;IACA,GACA;MACAH,IAAA;MACAC,KAAA;MACAC,QAAA;MACAC,KAAA;IACA,EACA;IACAC,QAAA;IACAC,WAAA;IACAC,UAAA;MACAC,WAAA;MACAC,kBAAA;MACAC,cAAA;MACAC,aAAA;IACA;IACAC,WAAA;MACAJ,WAAA;MACAC,kBAAA;MACAC,cAAA;MACAC,aAAA;IACA;EACA;EAEAE,KAAA;IACAf,OAAAgB,GAAA;MACAA,GAAA,SAAAC,KAAA;IACA;IACAhB,aAAAe,GAAA;MACAA,GAAA,SAAAE,WAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,UAAA;EACA;EAEAC,OAAA;IACA;;IAEAC,WAAAC,IAAA,EAAAC,IAAA;MACA,IAAAD,IAAA;QACA,KAAAE,QAAA,CAAAD,IAAA;MACA;QACA,KAAAxB,MAAA;QACA,KAAA0B,SAAA;QACA,KAAAjB,UAAA,GAAAkB,MAAA,CAAAC,MAAA,UAAAd,WAAA;MACA;IACA;IAEAW,SAAAD,IAAA;MACA,KAAAhB,WAAA,QAAAD,QAAA,CAAAsB,OAAA,CAAAL,IAAA;MACA,KAAAf,UAAA;QACAC,WAAA,EAAAc,IAAA,CAAAd,WAAA;QACAC,kBAAA,EAAAa,IAAA,CAAAb,kBAAA;QACAC,cAAA,EAAAY,IAAA,CAAAZ,cAAA;QACAC,aAAA;MACA;MACA,KAAAb,MAAA;MACA,KAAA0B,SAAA;IACA;IAEA,MAAAI,WAAAN,IAAA;MACA;QACA,IAAAzB,IAAA,cAAAgC,KAAA,CAAAC,MAAA,CACA,iCAAAR,IAAA,CAAAS,SAAA,EACA;QACA,IAAAlC,IAAA,CAAAmC,MAAA;UACA,KAAAd,UAAA;UACAe,KAAA;QACA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IAEA;;IAEAE,kBAAAC,KAAA;MACA,MAAAC,YAAA,GAAAD,KAAA,CAAAE,MAAA,CAAAC,KAAA;MACA,KAAAjC,UAAA,CAAAI,aAAA,GAAA2B,YAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}