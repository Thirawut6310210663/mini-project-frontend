{"ast":null,"code":"export default {\n  data: () => ({\n    firstname: '',\n    lastname: '',\n    salary: '',\n    roles: '',\n    dialogCreate: false,\n    dialogDelete: false,\n    headers: [{\n      text: 'ไอดี',\n      align: 'start',\n      sortable: false,\n      value: 'id'\n    }, {\n      text: 'ชื่อ',\n      value: 'firstName'\n    }, {\n      text: 'นามสกุล',\n      value: 'lastName'\n    }, {\n      text: 'เงินเดือน',\n      value: 'salary'\n    }, {\n      text: 'ตำแหน่ง',\n      value: 'role'\n    }, {\n      text: 'จัดการ',\n      value: 'actions',\n      sortable: false\n    }],\n    employeeItem: [],\n    editedIndex: -1,\n    editedItem: {\n      name: '',\n      calories: 0,\n      fat: 0,\n      carbs: 0,\n      protein: 0\n    },\n    defaultItem: {\n      name: '',\n      calories: 0,\n      fat: 0,\n      carbs: 0,\n      protein: 0\n    },\n    formTitle: '',\n    idEmployee: '',\n    idforDelete: ''\n  }),\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    }\n  },\n  created() {\n    this.initialize();\n  },\n  methods: {\n    async initialize() {\n      this.employeeItem = [];\n      try {\n        var data = await this.axios.get('http://localhost:8080/employee');\n        console.log('data employee ====>', data);\n        this.employeeItem = data.data;\n      } catch (error) {}\n    },\n    openDialog(Action, item) {\n      this.formTitle = '';\n      if (Action === 'add') {\n        this.dialogCreate = true;\n        this.formTitle = 'เพิ่มข้อมูล';\n        this.editedItem = item;\n      } else {\n        this.formTitle = 'แก้ไขข้อมูล';\n        this.dialogCreate = true;\n        this.firstname = item.firstName;\n        this.lastname = item.lastName;\n        this.salary = item.salary;\n        this.roles = item.role.name;\n        this.idEmployee = item.id;\n      }\n    },\n    editItem(item) {\n      console.log('item select', item);\n      this.editedIndex = this.employeeItem.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n    },\n    deleteItem(item) {\n      this.idforDelete = item.id;\n      this.dialogDelete = true;\n    },\n    async deleteItemConfirm() {\n      try {\n        var response = await this.axios.delete('http://localhost:8080/employee/' + this.idforDelete);\n        this.initialize();\n      } catch (error) {\n        console.log(error.message);\n      }\n      this.closeDelete();\n    },\n    close() {\n      this.dialogCreate = false;\n      this.editedItem = [];\n      this.editedIndex = -1;\n      this.defaultItem = {\n        name: '',\n        calories: 0,\n        fat: 0,\n        carbs: 0,\n        protein: 0\n      };\n    },\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n    async save(action) {\n      var data = {\n        firstName: this.firstname,\n        lastName: this.lastname,\n        salary: this.salary,\n        role: {\n          name: this.roles\n        },\n        skills: [{\n          skill: ''\n        }]\n      };\n      if (action === 'เพิ่มข้อมูล') {\n        try {\n          var dataResponse = await this.axios.post('http://localhost:8080/employee', data);\n          console.log('dataResponse ====>', dataResponse);\n          this.close();\n          this.initialize();\n        } catch (error) {\n          console.log(error.message);\n        }\n      } else {\n        try {\n          var dataResponse = await this.axios.put('http://localhost:8080/employee/' + this.idEmployee, data);\n          console.log('dataResponse ====>', dataResponse);\n          this.close();\n          this.initialize();\n        } catch (error) {\n          console.log(error.message);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","firstname","lastname","salary","roles","dialogCreate","dialogDelete","headers","text","align","sortable","value","employeeItem","editedIndex","editedItem","name","calories","fat","carbs","protein","defaultItem","formTitle","idEmployee","idforDelete","watch","dialog","val","close","closeDelete","created","initialize","methods","axios","get","console","log","error","openDialog","Action","item","firstName","lastName","role","id","editItem","indexOf","Object","assign","deleteItem","deleteItemConfirm","response","delete","message","$nextTick","save","action","skills","skill","dataResponse","post","put"],"sources":["src/components/Table.vue"],"sourcesContent":["<template>\n<div>\n<v-data-table\n    :headers=\"headers\"\n    :items=\"employeeItem\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:top>\n      <v-toolbar\n        flat\n      >\n        <v-toolbar-title>จัดการ Product</v-toolbar-title>\n        <v-divider\n          class=\"mx-4\"\n          inset\n          vertical\n        ></v-divider>\n        <v-spacer></v-spacer>\n        <v-btn\n              color=\"primary\"\n              dark\n              class=\"mb-2\"\n              @click=\"openDialog('add', defaultItem)\"\n            >\n              เพิ่มข้อมูล\n            </v-btn>\n\n      </v-toolbar>\n    </template>\n    <template v-slot:[`item.role`]= \"{ item }\">\n      {{ item.role === null ? '' : item.role.name }}\n    </template>\n    <template v-slot:[`item.actions`] = \"{ item }\">\n      <v-btn small outlined @click=\"openDialog('edit', item)\" color=\"blue\">\n      <v-icon>\n        mdi-pencil\n      </v-icon>\n      </v-btn>\n      <v-btn small outlined @click=\"deleteItem(item)\" color=\"red\" class=\"ml-2\">\n      <v-icon>\n        mdi-delete\n      </v-icon>\n      </v-btn>\n    </template>\n    <template v-slot:no-data>\n      <v-btn\n        color=\"primary\"\n        @click=\"initialize\"\n      >\n        Reset\n      </v-btn>\n    </template>\n  </v-data-table>\n  <v-dialog\n          v-model=\"dialogCreate\"\n          max-width=\"500px\"\n        >\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h5\">{{ formTitle }}</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"6\"\n                  >\n                    <v-text-field\n                      v-model=\"firstname\"\n                      label=\"ชื่อ\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"6\"\n                  >\n                    <v-text-field\n                      v-model=\"lastname\"\n                      label=\"นามสกุล\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"6\"\n                  >\n                    <v-text-field\n                      v-model=\"salary\"\n                      label=\"เงินเดือน\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"6\"\n                  >\n                    <v-text-field\n                      v-model=\"roles\"\n                      label=\"ตำแหน่ง\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"6\"\n                  >\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"close\"\n              >\n                ยกเลิก\n              </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"save(formTitle)\"\n              >\n                บันทึกข้อมูล\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n          <v-card>\n            <v-card-title class=\"text-h5\">ตุณต้องการลบข้อมูลนี้ในตารางใช่ หรือ ไม่?</v-card-title>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">ยกเลิก</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">ตกลง</v-btn>\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n</div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    firstname: '',\n    lastname: '',\n    salary: '',\n    roles: '',\n    dialogCreate: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: 'ไอดี',\n        align: 'start',\n        sortable: false,\n        value: 'id'\n      },\n      { text: 'ชื่อ', value: 'firstName' },\n      { text: 'นามสกุล', value: 'lastName' },\n      { text: 'เงินเดือน', value: 'salary' },\n      { text: 'ตำแหน่ง', value: 'role' },\n      { text: 'จัดการ', value: 'actions', sortable: false }\n    ],\n    employeeItem: [],\n    editedIndex: -1,\n    editedItem: {\n      name: '',\n      calories: 0,\n      fat: 0,\n      carbs: 0,\n      protein: 0\n    },\n    defaultItem: {\n      name: '',\n      calories: 0,\n      fat: 0,\n      carbs: 0,\n      protein: 0\n    },\n    formTitle: '',\n    idEmployee: '',\n    idforDelete: ''\n  }),\n\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n    dialogDelete (val) {\n      val || this.closeDelete()\n    }\n  },\n\n  created () {\n    this.initialize()\n  },\n\n  methods: {\n    async initialize () {\n      this.employeeItem = []\n      try {\n        var data = await this.axios.get('http://localhost:8080/employee')\n        console.log('data employee ====>', data)\n        this.employeeItem = data.data\n      } catch (error) {\n\n      }\n    },\n    openDialog (Action, item) {\n      this.formTitle = ''\n      if (Action === 'add') {\n        this.dialogCreate = true\n        this.formTitle = 'เพิ่มข้อมูล'\n        this.editedItem = item\n      } else {\n        this.formTitle = 'แก้ไขข้อมูล'\n        this.dialogCreate = true\n        this.firstname = item.firstName\n        this.lastname = item.lastName\n        this.salary = item.salary\n        this.roles = item.role.name\n        this.idEmployee = item.id\n      }\n    },\n\n    editItem (item) {\n      console.log('item select', item)\n      this.editedIndex = this.employeeItem.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n    },\n\n    deleteItem (item) {\n      this.idforDelete = item.id\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm () {\n      try {\n        var response = await this.axios.delete('http://localhost:8080/employee/' + this.idforDelete)\n        this.initialize()\n      } catch (error) {\n        console.log(error.message)\n      }\n      this.closeDelete()\n    },\n\n    close () {\n      this.dialogCreate = false\n      this.editedItem = []\n      this.editedIndex = -1\n      this.defaultItem = {\n        name: '',\n        calories: 0,\n        fat: 0,\n        carbs: 0,\n        protein: 0\n      }\n    },\n\n    closeDelete () {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save (action) {\n      var data = {\n        firstName: this.firstname,\n        lastName: this.lastname,\n        salary: this.salary,\n        role: {\n          name: this.roles\n        },\n        skills: [\n          { skill: '' }\n        ]\n      }\n      if (action === 'เพิ่มข้อมูล') {\n        try {\n          var dataResponse = await this.axios.post('http://localhost:8080/employee', data)\n          console.log('dataResponse ====>', dataResponse)\n          this.close()\n          this.initialize()\n        } catch (error) {\n          console.log(error.message)\n        }\n      } else {\n        try {\n          var dataResponse = await this.axios.put('http://localhost:8080/employee/' + this.idEmployee, data)\n          console.log('dataResponse ====>', dataResponse)\n          this.close()\n          this.initialize()\n        } catch (error) {\n          console.log(error.message)\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}