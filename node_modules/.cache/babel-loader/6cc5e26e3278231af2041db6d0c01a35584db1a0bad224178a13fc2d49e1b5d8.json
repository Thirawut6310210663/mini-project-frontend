{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data: () => ({\n    valid: true,\n    username: \"\",\n    nameRules: [v => !!v || \"กรุณากรอกชื่อผู้ใช้งาน\", v => v && v.length <= 20 || \"กรุณากรอกชื่อผู้ใช้งานห้ามเกิน 20 ตัวอักษร\"],\n    password: \"\",\n    passwordRules: [v => !!v || \"กรุณากรอกรหัสผ่าน\"]\n  }),\n  methods: {\n    async goToHomeAdmin() {\n      if (this.$refs.loginForm.validate(true)) {\n        const Data = {\n          adminUsername: this.username,\n          adminPassword: this.password\n        };\n        try {\n          const response = await this.axios.post(\"http://localhost:9000/admin/login\", Data);\n          if (response.status === 200) {\n            this.$router.push(\"/HomeAdmin\");\n            // window.location.reload();\n          } else if (response.status === 401) {\n            console.error(\"Failed login information.\");\n          } else {\n            console.error(\"Internal server error.\");\n          }\n        } catch (error) {\n          alert(\"Incorrect password. Please try again.\");\n          console.error(error);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","valid","username","nameRules","v","length","password","passwordRules","methods","goToHomeAdmin","$refs","loginForm","validate","Data","adminUsername","adminPassword","response","axios","post","status","$router","push","console","error","alert"],"sources":["src/components/Login.vue"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <v-main>\r\n      <v-container>\r\n        <v-row justify=\"center\">\r\n          <v-col cols=\"4\" class=\"text-center\">\r\n            <v-card class=\"mx-auto mt-15\" style=\"width: 100%; height: 350px;\">\r\n              <v-card-title style=\"font-size: 25px; color: #33CCCC\" >\r\n                เข้าสู่ระบบ\r\n              </v-card-title>\r\n              <v-card-text class=\"mx-auto mt-5\">\r\n                <v-form ref=\"loginForm\" v-model=\"valid\" lazy-validation>\r\n                  <v-text-field\r\n                v-model=\"username\"\r\n                :rules=\"usernameRules\"\r\n                label=\"username\"\r\n                placeholder=\"username\"\r\n                required\r\n                outlined\r\n              ></v-text-field>\r\n\r\n              <v-text-field\r\n                v-model=\"password\"\r\n                :rules=\"passwordRules\"\r\n                label=\"password\"\r\n                placeholder=\"password\"\r\n                type=\"password\"\r\n                required\r\n                outlined\r\n              ></v-text-field>\r\n                  <v-row justify=\"center\" class=\"mx-auto mt-2\">\r\n                    <v-col cols=\"12\" sm=\"8\" md=\"6\" class=\"text-center\">\r\n                      <v-btn\r\n                        :disabled=\"!valid\"\r\n                        color=\"#33CCCC\"\r\n                        @click=\"goToHomeAdmin()\"\r\n                        style=\"text-align: center; color: #FFFFFF;\"\r\n                      >\r\n                        เข้าสู่ระบบ\r\n                      </v-btn>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-form>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    valid: true,\r\n    username: \"\",\r\n    nameRules: [\r\n      (v) => !!v || \"กรุณากรอกชื่อผู้ใช้งาน\",\r\n      (v) => (v && v.length <= 20) || \"กรุณากรอกชื่อผู้ใช้งานห้ามเกิน 20 ตัวอักษร\",\r\n    ],\r\n    password: \"\",\r\n    passwordRules: [\r\n      (v) => !!v || \"กรุณากรอกรหัสผ่าน\"\r\n      ]\r\n  }),\r\n  methods: {\r\n    async goToHomeAdmin() {\r\n      if (this.$refs.loginForm.validate(true)) {\r\n        const Data = {\r\n          adminUsername: this.username,\r\n          adminPassword: this.password,\r\n        };\r\n\r\n        try {\r\n          const response = await this.axios.post(\r\n            \"http://localhost:9000/admin/login\",\r\n            Data\r\n          );\r\n          if (response.status === 200) {\r\n              this.$router.push(\"/HomeAdmin\");\r\n            // window.location.reload();\r\n          } else if (response.status === 401) {\r\n            console.error(\"Failed login information.\");\r\n          } else {\r\n            console.error(\"Internal server error.\");\r\n          }\r\n        } catch (error) {\r\n          alert(\"Incorrect password. Please try again.\");\r\n          console.error(error);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAqDA;EACAA,IAAA,EAAAA,CAAA;IACAC,KAAA;IACAC,QAAA;IACAC,SAAA,GACAC,CAAA,MAAAA,CAAA,8BACAA,CAAA,IAAAA,CAAA,IAAAA,CAAA,CAAAC,MAAA,uDACA;IACAC,QAAA;IACAC,aAAA,GACAH,CAAA,MAAAA,CAAA;EAEA;EACAI,OAAA;IACA,MAAAC,cAAA;MACA,SAAAC,KAAA,CAAAC,SAAA,CAAAC,QAAA;QACA,MAAAC,IAAA;UACAC,aAAA,OAAAZ,QAAA;UACAa,aAAA,OAAAT;QACA;QAEA;UACA,MAAAU,QAAA,cAAAC,KAAA,CAAAC,IAAA,CACA,qCACAL,IACA;UACA,IAAAG,QAAA,CAAAG,MAAA;YACA,KAAAC,OAAA,CAAAC,IAAA;YACA;UACA,WAAAL,QAAA,CAAAG,MAAA;YACAG,OAAA,CAAAC,KAAA;UACA;YACAD,OAAA,CAAAC,KAAA;UACA;QACA,SAAAA,KAAA;UACAC,KAAA;UACAF,OAAA,CAAAC,KAAA,CAAAA,KAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}